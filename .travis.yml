language: node_js
sudo: false

jobs:
  include:
    - stage: Install Dependencies
      script:
        - npm install
        - cd feature-tests
        - npm install

    - stage: Run feature-tests.
      script:
        - cd feature-tests
        - npm run test

    - stage: Lint the feature-tests
      script:
        - cd feature-tests
        - npm run lint

    - stage: Lint packages & templates
      script:
        - npm run lint-all

    - stage: Test bootstrapping the project
      script:
        - npm run safe-clean
        - npm run bootstrap
